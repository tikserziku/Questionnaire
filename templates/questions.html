{% extends 'base.html' %}

{% block title %}–û–ø—Ä–æ—Å - {{ '–ù–∞—á–∞–ª—å–Ω—ã–π' if level == 'beginner' else '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π' }} —É—Ä–æ–≤–µ–Ω—å{% endblock %}

{% block content %}
<div class="survey-container">
    <h1>{{ '–û–ø—Ä–æ—Å –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö' if level == 'beginner' else '–û–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö' }}</h1>
    <p class="survey-description">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ª—É—á—à–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å</p>

    <form method="post" class="survey-form" id="survey-form">
        {% if level == 'beginner' %}
            <div class="question-group">
                <label for="expectations">1. –ß—Ç–æ –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç –∫—É—Ä—Å–∞ –ø–æ –ò–ò?</label>
                <textarea id="expectations" name="expectations" required 
                         placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à–∏ —Ü–µ–ª–∏ –∏ –æ–∂–∏–¥–∞–Ω–∏—è..."></textarea>
            </div>

            <div class="question-group">
                <label for="experience">2. –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –æ–ø—ã—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è? –ù–∞ –∫–∞–∫–æ–º —è–∑—ã–∫–µ?</label>
                <textarea id="experience" name="experience" required 
                         placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ..."></textarea>
            </div>

            <div class="question-group">
                <label>3. –ö–∞–∫ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —É—á–∏—Ç—å—Å—è?</label>
                <div class="checkbox-group">
                    {% for option in SURVEY_QUESTIONS['beginner'][2].options %}
                        <label class="checkbox-label">
                            <input type="checkbox" name="learning_style" value="{{ option }}" required>
                            {{ option }}
                        </label>
                    {% endfor %}
                </div>
            </div>

            <div class="question-group">
                <label>4. –ö–∞–∫–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ò–ò –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?</label>
                <div class="checkbox-group">
                    {% for option in SURVEY_QUESTIONS['beginner'][3].options %}
                        <label class="checkbox-label">
                            <input type="checkbox" name="interests" value="{{ option }}" required>
                            {{ option }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="question-group">
                <label for="ai_experience">1. –û–ø–∏—à–∏—Ç–µ –≤–∞—à –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –ò–ò</label>
                <textarea id="ai_experience" name="ai_experience" required 
                         placeholder="–ü—Ä–æ–µ–∫—Ç—ã, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏..."></textarea>
            </div>

            <div class="question-group">
                <label for="challenges">2. –° –∫–∞–∫–∏–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ò–ò?</label>
                <textarea id="challenges" name="challenges" required 
                         placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∫–∞–∫ –≤—ã –∏—Ö —Ä–µ—à–∞–ª–∏..."></textarea>
            </div>

            <div class="question-group">
                <label>3. –ö–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ò–ò –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏?</label>
                <div class="checkbox-group">
                    {% for option in SURVEY_QUESTIONS['advanced'][2].options %}
                        <label class="checkbox-label">
                            <input type="checkbox" name="tools" value="{{ option }}" required>
                            {{ option }}
                        </label>
                    {% endfor %}
                </div>
            </div>

            <div class="question-group">
                <label>4. –ö–∞–∫–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç?</label>
                <div class="checkbox-group">
                    {% for option in SURVEY_QUESTIONS['advanced'][3].options %}
                        <label class="checkbox-label">
                            <input type="checkbox" name="interests" value="{{ option }}" required>
                            {{ option }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        {% endif %}

        <div class="input-assistance">
            <button type="button" id="voice-button" class="assist-button">
                <span>üé§</span> –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥
            </button>
            
            <button type="button" id="chatgpt-button" class="assist-button">
                <span>üí°</span> –ü–æ–º–æ—â—å ChatGPT
            </button>
        </div>

        <input type="hidden" name="voice_question" id="voice_question">
        <input type="hidden" name="chatgpt_questions" id="chatgpt_questions">

        <button type="submit" class="submit-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>

    <!-- ChatGPT Modal -->
    <div id="chatgpt-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ü–æ–º–æ—â–Ω–∏–∫ ChatGPT</h3>
                <span class="close">&times;</span>
            </div>
            <div id="chatgpt-chat"></div>
            <div class="chat-input-container">
                <input type="text" id="chatgpt-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å...">
                <button id="chatgpt-send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Voice Modal -->
    <div id="voice-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥</h3>
                <span class="close-voice">&times;</span>
            </div>
            <div class="voice-content">
                <div class="voice-status">
                    <div class="voice-indicator"></div>
                    <span class="voice-status-text">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å–∏</span>
                </div>
                <div class="voice-result">
                    <div class="voice-original">
                        <h4>–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</h4>
                        <p id="voice-original-text"></p>
                    </div>
                    <div class="voice-processed">
                        <h4>–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç:</h4>
                        <p id="voice-processed-text"></p>
                    </div>
                </div>
                <div class="voice-actions">
                    <button id="start-voice" class="voice-action-button">
                        <span class="icon">üé§</span> –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å
                    </button>
                    <button id="use-voice-result" class="voice-action-button" disabled>
                        –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
